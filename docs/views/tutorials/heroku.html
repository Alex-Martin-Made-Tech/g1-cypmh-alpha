{% extends 'layout.html' %}

{% block pageTitle %}
  Publishing to the web (Heroku)
{% endblock %}

{% block beforeContent %}
  {% include "tutorials/includes/breadcrumb.html" %}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">

    <div class="nhsuk-grid-column-two-thirds">

      <h1>
        Publishing to the web (Heroku)
      </h1>

      <p><a href="">Heroku</a> allows you to get your prototype online quickly. Enabling you to share your prototype with others and view it on different devices.</p>

      <div class="nhsuk-inset-text">
        <p>DO NOT enter real user data into prototypes hosted on Heroku. If your prototype stores or collects user data, talk to a security professional about appropriate security steps you must take.</p>
      </div>

      <h2>1. Setup Git</h2>

      <p>Before you can use Heroku, you need to <a href="/docs/tutorials/git">set up Git</a> on your prototype.</p>

      <h2>2. Sign up to Heroku</h2>

      <p>If youâ€™re new to Heroku, <a href="https://signup.heroku.com/">sign up for a free account</a>. When asked what language you use, select <code class="app-code">node.js</code>.</p>

      <h2>3. Install the Heroku toolbelt</h2>

      <p>Install the <a href="https://toolbelt.heroku.com/">Heroku toolbelt</a>.</p>

      <p>The toolbelt lets you use Heroku through the terminal. You will need to restart the terminal after installing the toolbelt.</p>

      <h2>4. Login to Heroku</h2>

      <p>Log into your Heroku account by running:</p>

      <pre class="app-pre"><code class="app-code">heroku login</code></pre>

      <h2>5. Choose a name for your app</h2>

      <p>You need a unique name for your app. The name is used in the url for your prototype. For example the name:</p>

      <p><code class="app-code">nhsuk-medicines-prototype</code></p>

      <p>will create an app at:</p>

      <p><code class="app-code">nhsuk-medicines-prototype.herokuapp.com.</code></p>

      <h2>6. Create your app</h2>

      <p>To create you app, enter in the terminal:</p>

      <pre class="app-pre"><code class="app-code">heroku apps:create [name of your app] --region eu</code></pre>

      <p>Replace <code class="app-code">[name of your app]</code> with your app name from step 5.</p>

      <h2>7. Set a username and password</h2>

      <div class="nhsuk-inset-text">
        <p>Prototypes made with the kit require a username and password when published online. This stops members of the public coming across your prototype by accident.</p>
      </div>

      <h3>To set username and password:</h3>

      <pre class="app-pre nhsuk-u-margin-bottom-7"><code class="app-code">heroku config:set PROTOTYPE_USERNAME=username_here <br>heroku config:set PROTOTYPE_PASSWORD=password_here</code></pre>

      <h2>8. Deploy your changes</h2>

      <p>Make sure any changes you've made to your prototype have been committed to git.</p>

      <pre class="app-pre"><code class="app-code">git add .<br>git commit -m "your commit message here"</code></pre>

      <p>Then push your work to Heroku:</p>

      <pre class="app-pre"><code class="app-code">git push heroku master</code></pre>
      
      <p>Deploying may take a minute or so.</p>

      <h2>9. View your prototype online</h2>

      <p>After your work is deployed, you will be able to view it on the web by visiting <code class="app-code">[name].herokuapp.com</code>.</p>
      <p>You can also open your prototype in a browser by running:</p>
      <pre class="app-pre"><code class="app-code">heroku open</code></pre>

      {% include "tutorials/includes/back-button.html" %}

    </div>

  </div>
{% endblock %}
